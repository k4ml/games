<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
#box {
    background: red;
    width: 2em;
}
</style>
</head>
<body>
<div id="box">
hello
</div>
<button id='stop' onclick="doStop()">Stop</button>
<button id='cont' onclick="doContinue()">Continue</button>
<button id='start' onclick="doStart()">Start</button>
<script>
var box = null;
var stop = false;
function doMove() {
    if (stop) {
        return;
    }
    box.style.marginLeft = parseInt(box.style.marginLeft)+1+'px';
    window.requestAnimationFrame(doMove);
}

function init() {
    box = document.getElementById('box');
    box.style.marginLeft = '0px';
    doMove();
}

function doStop() {
    stop = true;
    console.log(stop);
}

function doStart() {
    stop = false;
    box.style.marginLeft = '0px';
    doMove();
}

function doContinue() {
    stop = false;
    doMove();
}
window.onload = init;
</script>
</body>
</html>
